Reduce mangler worker pool to 1 worker and increase heap for Cloud Build

The VS Code mangler spawns 4 rename workers, each loading the entire
TypeScript project into a separate language service (~4GB heap each).
On E2_HIGHCPU_32 (32GB RAM) this causes ERR_WORKER_OUT_OF_MEMORY.

Reducing to 1 worker and giving it 12GB heap makes the build fit in
memory. Worker count and heap size configurable via env vars.

Index: code-server/lib/vscode/build/lib/mangle/index.ts
===================================================================
--- code-server.orig/lib/vscode/build/lib/mangle/index.ts
+++ code-server/lib/vscode/build/lib/mangle/index.ts
@@ -406,9 +406,18 @@ export class Mangler {
 		private readonly config: { readonly manglePrivateFields: boolean; readonly mangleExports: boolean },
 	) {
 
+		const mangleWorkers = parseInt(process.env['VSCODE_MANGLE_WORKERS'] || '0') || 1;
+		const mangleHeapMb = parseInt(process.env['VSCODE_MANGLE_HEAP_MB'] || '0') || 12288;
+
 		this.renameWorkerPool = workerpool.pool(path.join(__dirname, 'renameWorker.js'), {
-			maxWorkers: 4,
-			minWorkers: 'max'
+			maxWorkers: mangleWorkers,
+			minWorkers: mangleWorkers,
+			workerThreadOpts: {
+				resourceLimits: {
+					maxOldGenerationSizeMb: mangleHeapMb,
+					maxYoungGenerationSizeMb: 256,
+				}
+			}
 		});
 	}
 
